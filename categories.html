{% extends 'base.html' %}
{% block title %} {{ site.configs.title }} - 分类{% endblock %}

{% block content %}
<div class="mid-col">
    <div class="mid-col-container">
	    <ul class="categories" id="categories">
	    {% set categories = get_folders(level=[1,2], min_posts_count=1) %}
	    {% for category in  sorted_by_position(categories)%}
	        <li>
	            <a href="/category/{{ category.path }}" style="background:url(/{{ category.path }}cover.png?blur=true)">
								<div class="category-text">
	                <div class="category">{{ category.title }}</div>
	                <span> {{ category.posts_count }} 篇文章</span>
								</div>
	            </a>
	        </li>
	    {% endfor %}

	    </ul>
	</div>
</div>



<script type="text/javascript">

    function auto_margin(){
        var e = document.getElementById('categories');
        e.style.marginLeft = 0;
        var width = document.width || document.body.clientWidth;
        if (e && width > 302){
            e.style.marginLeft = ( width% 306) /2 + 'px';
        }
    }

    auto_margin();

    window.onresize = auto_margin;

</script>

{% endblock %}
